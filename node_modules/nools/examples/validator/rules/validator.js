(function(){ function _getCompiled(nools){ return nools.compile({"define":[{"name":"Model","properties":"({ constructor: function(options){ this.id = options.id; this.firstName = options.firstName; this.lastName = options.lastName; this.dob = options.dob; this.email = options.email; this.errors = []; }, toString : function(){ return [\"Model : [\", [this.id, this.firstName, this.lastName, this.dob, this.email].join(\":\"), \"]\"].join(\"\"); } })"}],"rules":[{"name":"CheckFirstNameRequired","options":{},"constraints":[["Model","m","isUndefinedOrNull(m.firstName) or m.firstName.length eq 0"]],"action":"m.errors.push(\"First name is required\"); "},{"name":"CheckFirstNameNoNumbers","options":{},"constraints":[["Model","m","(isString(m.firstName) and m.firstName like /[0-9]/)"]],"action":"m.errors.push(\"First name is must not contain numbers\"); "},{"name":"CheckFirstNameLength","options":{},"constraints":[["Model","m","(isString(m.firstName) and m.firstName.length gt 10)"]],"action":"m.errors.push(\"First name cannot be longer than 10 characters\"); "},{"name":"CheckLastNameRequired","options":{},"constraints":[["Model","m","isUndefinedOrNull(m.lastName) or m.lastName.length eq 0"]],"action":"m.errors.push(\"Last name is required\"); "},{"name":"CheckLastNameNoNumbers","options":{},"constraints":[["Model","m","(isString(m.lastName) and m.lastName like /[0-9]/)"]],"action":"m.errors.push(\"Last name is must not contain numbers\"); "},{"name":"CheckLastNameLength","options":{},"constraints":[["Model","m","(isString(m.lastName) and m.lastName.length gte 10)"]],"action":"m.errors.push(\"Last name cannot be longer than 10 characters\"); "},{"name":"CheckDobRequired","options":{},"constraints":[["Model","m","isDate(m.dob) == false"]],"action":"m.errors.push(\"Date of birth is required\"); "},{"name":"CheckDobAgeToYoung","options":{},"constraints":[["Model","m","isDate(m.dob) and m.dob gte yearsAgo(18)"]],"action":"m.errors.push(\"Date Of Birth must be >= 18 years ago\"); "},{"name":"CheckDobAgeToOld","options":{},"constraints":[["Model","m","isDate(m.dob) and m.dob lte yearsAgo(100)"]],"action":"m.errors.push(\"You cannot be older than 100 to use this app\"); "},{"name":"CheckEmail","options":{},"constraints":[["Model","m","isEmail(m.email) == false"]],"action":"m.errors.push(\"Invalid email address\"); "},{"name":"CheckEmailUnique","options":{},"constraints":[["Model","m1","isString(m1.email)",{"id":"m1Id","email":"m1Email"}],["Model","m2","isString(m2.email) and m1Id neq m2.id and m2.email eq m1Email"]],"action":"m2.errors.push(\"Email is not unqiue\"); "}],"scope":[{"name":"isEmail","body":"function(email){ return /^(?:[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+\\.)*[\\w\\!\\#\\$\\%\\&\\'\\*\\+\\-\\/\\=\\?\\^\\`\\{\\|\\}\\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!\\.)){0,61}[a-zA-Z0-9]?\\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\\[(?:(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\.){3}(?:[01]?\\d{1,2}|2[0-4]\\d|25[0-5])\\]))$/.test(email); }"}]}, {name : "validator"}); } if ("undefined" !== typeof exports) { if ("undefined" !== typeof module && module.exports) { return _getCompiled(require("../../../nools.js")); } } else if ("function" === typeof define && define.amd) { define(["../../../nools.js"], function (nools) { return _getCompiled(nools); }); } else { _getCompiled(this.nools); } }).call(this);
